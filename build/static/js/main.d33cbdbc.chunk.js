(this["webpackJsonpmy-react"]=this["webpackJsonpmy-react"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return d}));var r=n(2),c=Object(r.b)("contacts/fetchRequest"),a=Object(r.b)("contacts/fetchSuccess"),u=Object(r.b)("contacts/fetchError"),o=Object(r.b)("contacts/addRequest"),s=Object(r.b)("contacts/addSuccess"),i=Object(r.b)("contacts/addError"),b=Object(r.b)("contacts/deleteRequest"),l=Object(r.b)("contacts/deleteSuccess"),j=Object(r.b)("contacts/deleteError"),d=(Object(r.b)("contacts/Delete"),Object(r.b)("filter/handleChange"))},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return N}));var r,c,a,u,o=n(2),s=Object(o.b)("auth/registerRequest"),i=Object(o.b)("auth/registerSuccess"),b=Object(o.b)("auth/registerError"),l=Object(o.b)("auth/loginRequest"),j=Object(o.b)("auth/loginSuccess"),d=Object(o.b)("auth/loginError"),f={registerRequest:s,registerSuccess:i,registerError:b,logoutRequest:Object(o.b)("auth/logoutRequest"),logoutSuccess:Object(o.b)("auth/logoutSuccess"),logoutError:Object(o.b)("auth/logoutError"),loginRequest:l,loginSuccess:j,loginError:d,getCurrentUserRequest:Object(o.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(o.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(o.b)("auth/getCurrentUserError")},p=n(3),O=n(9),g={name:null,email:null},x=Object(o.c)(g,(r={},Object(p.a)(r,f.registerSuccess,(function(e,t){return t.payload.user})),Object(p.a)(r,f.loginSuccess,(function(e,t){return t.payload.user})),Object(p.a)(r,f.logoutSuccess,(function(){return g})),Object(p.a)(r,f.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),h=Object(o.c)(!1,(c={},Object(p.a)(c,f.registerSuccess,(function(){return!0})),Object(p.a)(c,f.loginSuccess,(function(){return!0})),Object(p.a)(c,f.getCurrentUserSuccess,(function(){return!0})),Object(p.a)(c,f.registerError,(function(){return!1})),Object(p.a)(c,f.loginError,(function(){return!1})),Object(p.a)(c,f.getCurrentUserError,(function(){return!1})),Object(p.a)(c,f.logoutSuccess,(function(){return!1})),c)),m=Object(o.c)(null,(a={},Object(p.a)(a,f.registerSuccess,(function(e,t){return t.payload.token})),Object(p.a)(a,f.loginSuccess,(function(e,t){return t.payload.token})),Object(p.a)(a,f.logoutSuccess,(function(){return null})),a)),v=function(e,t){return t.payload},k=Object(o.c)(null,(u={},Object(p.a)(u,f.registerError,v),Object(p.a)(u,f.loginError,v),Object(p.a)(u,f.logoutError,v),Object(p.a)(u,f.getCurrentUserError,v),u)),y=Object(O.b)({user:x,isAuthenticated:h,token:m,error:k}),S=n(16),E=n.n(S),A=n(23),C=n(19),w=n.n(C);w.a.defaults.baseURL="https://connections-api.herokuapp.com";var U=function(e){w.a.defaults.headers.common.Authorization="Bearer ".concat(e)},R=function(){w.a.defaults.headers.common.Authorization=""},L={register:function(e){return function(){var t=Object(A.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(f.registerRequest()),t.prev=1,t.next=4,w.a.post("/users/signup",e);case 4:r=t.sent,U(r.data.token),n(f.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(f.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(A.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(f.loginRequest()),t.prev=1,t.next=4,w.a.post("/users/login",e);case 4:r=t.sent,U(r.data.token),n(f.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(f.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(f.logoutRequest()),e.prev=1,e.next=4,w.a.post("/users/logout");case 4:R(),t(f.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(f.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(A.a)(E.a.mark((function e(t,n){var r,c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return U(c),t(f.getCurrentUserRequest()),e.prev=5,e.next=8,w.a.get("/users/current");case 8:a=e.sent,t(f.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(f.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},N={getIsAuthenticated:function(e){return e.auth.isAuthenticated},getUserName:function(e){return e.auth.user.name},getUserEmail:function(e){return e.auth.user.email}}},60:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r,c,a,u,o=n(0),s=n.n(o),i=n(24),b=n.n(i),l=(n(60),n(35)),j=n(36),d=n(39),f=n(38),p=n(5),O=n(15),g=n(1),x=function(){return Object(g.jsxs)("nav",{className:"navLinks",children:[Object(g.jsx)(O.b,{to:"/register",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Sign up"}),Object(g.jsx)(O.b,{to:"/login",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Sign in"})]})},h=n(7),m=n(6),v=Object(h.b)((function(e,t){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return Object(g.jsxs)("nav",{className:"navLinks",children:[Object(g.jsx)(O.b,{to:"/",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Home"}),t&&Object(g.jsx)(O.b,{to:"/contacts",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Contacts"})]})})),k=n(25),y=n(26),S=y.a.div(r||(r=Object(k.a)(["\n  .userMenuRext {\n    color: #3f51b5;\n    margin-bottom: 5px;\n  }\n"]))),E={onLogout:m.a.logOut},A=Object(h.b)((function(e){return{userName:m.c.getUserName(e),userEmail:m.c.getUserEmail(e)}}),E)((function(e){var t=e.userName,n=e.userEmail,r=e.onLogout;return Object(g.jsxs)(S,{children:[Object(g.jsxs)("p",{className:"userMenuRext",children:["Welcome, ",Object(g.jsx)("b",{children:t})]}),Object(g.jsxs)("p",{className:"userMenuRext",children:["Email: ",Object(g.jsx)("b",{children:n})]}),Object(g.jsx)("button",{type:"button",className:"navLink",onClick:r,children:"Sign off"})]})})),C=y.a.header(c||(c=Object(k.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-radius: 5px;\n  padding: 20px 50px;\n  max-width: 100%;\n  min-height: 120px;\n  align-items: center;\n  color: #fff;\n  background-color: rgb(232, 240, 254);\n  margin: 0 auto;\n  border: 1px solid rgba(0, 0, 0, 0.23);\n\n  /* box-shadow: -10px 0px 13px -7px #000000, 10px 0px 13px -7px #000000; */\n\n  .navLink {\n    display: inline-block;\n    text-align: center;\n    padding: 5px 20px;\n    min-width: 150px;\n    background-color: #3f51b5;\n    color: #ffffff;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n      0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n    text-decoration: none;\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    cursor: pointer;\n    border: none;\n  }\n  .navLink:hover {\n    background-image: linear-gradient(to bottom, #3f51b5, #070c73);\n    text-decoration: none;\n  }\n  .navLinkActive {\n    display: inline-block;\n    text-align: center;\n    padding: 5px 20px;\n    min-width: 150px;\n    background-image: linear-gradient(to bottom, #3f51b5, #070c73);\n    text-decoration: none;\n    border-radius: 4px;\n    color: #ffffff;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n      0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  }\n\n  .navLinks {\n    display: flex;\n    gap: 20px;\n  }\n"]))),w=Object(h.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return Object(g.jsxs)(C,{children:[Object(g.jsx)(v,{}),t?Object(g.jsx)(A,{}):Object(g.jsx)(x,{})]})})),U=n(20),R=n(29),L=["component","isAuthenticated","redirectTo"],N=Object(h.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(R.a)(e,L);return Object(g.jsx)(p.b,Object(U.a)(Object(U.a)({},c),{},{render:function(e){return n?Object(g.jsx)(t,Object(U.a)({},e)):Object(g.jsx)(p.a,{to:r})}}))})),q=["component","isAuthenticated","redirectTo"],z=Object(h.b)((function(e){return{isAuthenticated:m.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(R.a)(e,q);return Object(g.jsx)(p.b,Object(U.a)(Object(U.a)({},c),{},{render:function(e){return n&&c.restricted?Object(g.jsx)(p.a,{to:r}):Object(g.jsx)(t,Object(U.a)({},e))}}))})),T=Object(o.lazy)((function(){return n.e(5).then(n.bind(null,166))})),I=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,181))})),M=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,182))})),B=Object(o.lazy)((function(){return n.e(4).then(n.bind(null,179))})),D=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(w,{}),Object(g.jsx)(o.Suspense,{fallback:Object(g.jsx)("p",{children:"Loading..."}),children:Object(g.jsxs)(p.d,{children:[Object(g.jsx)(p.b,{exact:!0,path:"/",component:T}),Object(g.jsx)(z,{path:"/register",restricted:!0,redirectTo:"/contacts",component:I}),Object(g.jsx)(z,{path:"/login",restricted:!0,redirectTo:"/contacts",component:M}),Object(g.jsx)(N,{path:"/contacts",redirectTo:"/login",component:B})]})})]})}}]),n}(o.Component),G={onGetCurrentUser:m.a.getCurrentUser},H=Object(h.b)(null,G)(D),J=n(28),P=n(2),W=n(17),F=n(53),K=n.n(F),Q=n(54),V=n.n(Q),X=n(3),Y=n(9),Z=n(10),$=Object(P.c)([],(a={},Object(X.a)(a,Z.i,(function(e,t){return t.payload})),Object(X.a)(a,Z.c,(function(e,t){var n=t.payload;return[].concat(Object(J.a)(e),[n])})),Object(X.a)(a,Z.f,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),a)),_=Object(P.c)(!1,(u={},Object(X.a)(u,Z.h,(function(){return!0})),Object(X.a)(u,Z.i,(function(){return!1})),Object(X.a)(u,Z.g,(function(){return!1})),Object(X.a)(u,Z.b,(function(){return!0})),Object(X.a)(u,Z.c,(function(){return!1})),Object(X.a)(u,Z.a,(function(){return!1})),Object(X.a)(u,Z.e,(function(){return!0})),Object(X.a)(u,Z.f,(function(){return!1})),Object(X.a)(u,Z.d,(function(){return!1})),u)),ee=Object(P.c)("",Object(X.a)({},Z.j,(function(e,t){return t.payload}))),te=Object(Y.b)({contacts:$,filter:ee,loading:_}),ne=[].concat(Object(J.a)(Object(P.d)({serializableCheck:{ignoredActions:[W.a,W.f,W.b,W.c,W.d,W.e]}})),[V.a]),re={key:"auth",storage:K.a,whitelist:["token"]},ce=Object(P.a)({reducer:{auth:Object(W.g)(re,m.b),contacts:te},middleware:ne,devTools:!1}),ae={store:ce,persistor:Object(W.h)(ce)},ue=n(55);b.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(h.a,{store:ae.store,children:Object(g.jsx)(ue.a,{loading:null,persistor:ae.persistor,children:Object(g.jsx)(O.a,{children:Object(g.jsx)(H,{})})})})}),document.getElementById("root"))}},[[86,2,3]]]);
//# sourceMappingURL=main.d33cbdbc.chunk.js.map