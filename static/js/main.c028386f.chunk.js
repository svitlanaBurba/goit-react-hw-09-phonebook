(this["webpackJsonpmy-react"]=this["webpackJsonpmy-react"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return d}));var r=n(2),c=Object(r.b)("contacts/fetchRequest"),a=Object(r.b)("contacts/fetchSuccess"),o=Object(r.b)("contacts/fetchError"),s=Object(r.b)("contacts/addRequest"),u=Object(r.b)("contacts/addSuccess"),i=Object(r.b)("contacts/addError"),b=Object(r.b)("contacts/deleteRequest"),l=Object(r.b)("contacts/deleteSuccess"),j=Object(r.b)("contacts/deleteError"),d=(Object(r.b)("contacts/Delete"),Object(r.b)("filter/handleChange"))},58:function(e,t,n){},7:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return q}));var r,c,a,o,s=n(2),u=Object(s.b)("auth/registerRequest"),i=Object(s.b)("auth/registerSuccess"),b=Object(s.b)("auth/registerError"),l=Object(s.b)("auth/loginRequest"),j=Object(s.b)("auth/loginSuccess"),d=Object(s.b)("auth/loginError"),f={registerRequest:u,registerSuccess:i,registerError:b,logoutRequest:Object(s.b)("auth/logoutRequest"),logoutSuccess:Object(s.b)("auth/logoutSuccess"),logoutError:Object(s.b)("auth/logoutError"),loginRequest:l,loginSuccess:j,loginError:d,getCurrentUserRequest:Object(s.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(s.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(s.b)("auth/getCurrentUserError")},O=n(3),p=n(9),g={name:null,email:null},x=Object(s.c)(g,(r={},Object(O.a)(r,f.registerSuccess,(function(e,t){return t.payload.user})),Object(O.a)(r,f.loginSuccess,(function(e,t){return t.payload.user})),Object(O.a)(r,f.logoutSuccess,(function(){return g})),Object(O.a)(r,f.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),h=Object(s.c)(!1,(c={},Object(O.a)(c,f.registerSuccess,(function(){return!0})),Object(O.a)(c,f.loginSuccess,(function(){return!0})),Object(O.a)(c,f.getCurrentUserSuccess,(function(){return!0})),Object(O.a)(c,f.registerError,(function(){return!1})),Object(O.a)(c,f.loginError,(function(){return!1})),Object(O.a)(c,f.getCurrentUserError,(function(){return!1})),Object(O.a)(c,f.logoutSuccess,(function(){return!1})),c)),m=Object(s.c)(null,(a={},Object(O.a)(a,f.registerSuccess,(function(e,t){return t.payload.token})),Object(O.a)(a,f.loginSuccess,(function(e,t){return t.payload.token})),Object(O.a)(a,f.logoutSuccess,(function(){return null})),a)),v=function(e,t){return t.payload},k=Object(s.c)(null,(o={},Object(O.a)(o,f.registerError,v),Object(O.a)(o,f.loginError,v),Object(O.a)(o,f.logoutError,v),Object(O.a)(o,f.getCurrentUserError,v),o)),S=Object(p.b)({user:x,isAuthenticated:h,token:m,error:k}),y=n(16),E=n.n(y),C=n(23),w=n(19),R=n.n(w);R.a.defaults.baseURL="https://connections-api.herokuapp.com";var U=function(e){R.a.defaults.headers.common.Authorization="Bearer ".concat(e)},L=function(){R.a.defaults.headers.common.Authorization=""},A={register:function(e){return function(){var t=Object(C.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(f.registerRequest()),t.prev=1,t.next=4,R.a.post("/users/signup",e);case 4:r=t.sent,U(r.data.token),n(f.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(f.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(C.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(f.loginRequest()),t.prev=1,t.next=4,R.a.post("/users/login",e);case 4:r=t.sent,U(r.data.token),n(f.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(f.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(C.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(f.logoutRequest()),e.prev=1,e.next=4,R.a.post("/users/logout");case 4:L(),t(f.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(f.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(C.a)(E.a.mark((function e(t,n){var r,c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return U(c),t(f.getCurrentUserRequest()),e.prev=5,e.next=8,R.a.get("/users/current");case 8:a=e.sent,t(f.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(f.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},q={getIsAuthenticated:function(e){return e.auth.isAuthenticated},getUserName:function(e){return e.auth.user.name},getUserEmail:function(e){return e.auth.user.email}}},84:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(25),o=n.n(a),s=(n(58),n(5)),u=n(15),i=n(1),b=function(){return Object(i.jsxs)("nav",{className:"navLinks",children:[Object(i.jsx)(u.b,{to:"/register",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Sign up"}),Object(i.jsx)(u.b,{to:"/login",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Sign in"})]})},l=n(6),j=n(7);function d(){var e=Object(l.c)(j.c.getIsAuthenticated);return Object(i.jsxs)("nav",{className:"navLinks",children:[Object(i.jsx)(u.b,{to:"/",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Home"}),e&&Object(i.jsx)(u.b,{to:"/contacts",exact:!0,className:"navLink",activeClassName:"navLinkActive",children:"Contacts"})]})}var f,O,p=n(26),g=n(27),x=g.a.div(f||(f=Object(p.a)(["\n  .userMenuRext {\n    color: #3f51b5;\n    margin-bottom: 5px;\n  }\n"])));function h(){var e=Object(l.c)(j.c.getUserName),t=Object(l.c)(j.c.getUserEmail),n=Object(l.b)(),c=Object(r.useCallback)((function(){return n(j.a.logOut())}),[n]);return Object(i.jsxs)(x,{children:[Object(i.jsxs)("p",{className:"userMenuRext",children:["Welcome, ",Object(i.jsx)("b",{children:e})]}),Object(i.jsxs)("p",{className:"userMenuRext",children:["Email: ",Object(i.jsx)("b",{children:t})]}),Object(i.jsx)("button",{type:"button",className:"navLink",onClick:c,children:"Sign off"})]})}var m=g.a.header(O||(O=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-radius: 5px;\n  padding: 20px 50px;\n  max-width: 100%;\n  min-height: 120px;\n  align-items: center;\n  color: #fff;\n  background-color: rgb(232, 240, 254);\n  margin: 0 auto;\n  border: 1px solid rgba(0, 0, 0, 0.23);\n\n  /* box-shadow: -10px 0px 13px -7px #000000, 10px 0px 13px -7px #000000; */\n\n  .navLink {\n    display: inline-block;\n    text-align: center;\n    padding: 5px 20px;\n    min-width: 150px;\n    background-color: #3f51b5;\n    color: #ffffff;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n      0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n    text-decoration: none;\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n    cursor: pointer;\n    border: none;\n  }\n  .navLink:hover {\n    background-image: linear-gradient(to bottom, #3f51b5, #070c73);\n    text-decoration: none;\n  }\n  .navLinkActive {\n    display: inline-block;\n    text-align: center;\n    padding: 5px 20px;\n    min-width: 150px;\n    background-image: linear-gradient(to bottom, #3f51b5, #070c73);\n    text-decoration: none;\n    border-radius: 4px;\n    color: #ffffff;\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n      0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n      border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  }\n\n  .navLinks {\n    display: flex;\n    gap: 20px;\n  }\n"])));function v(){var e=Object(l.c)(j.c.getIsAuthenticated);return Object(i.jsxs)(m,{children:[Object(i.jsx)(d,{}),e?Object(i.jsx)(h,{}):Object(i.jsx)(b,{})]})}var k=n(20),S=n(30),y=["component","redirectTo","children"];function E(e){var t=e.component,n=e.redirectTo,r=(e.children,Object(S.a)(e,y)),c=Object(l.c)(j.c.getIsAuthenticated);return Object(i.jsx)(s.b,Object(k.a)(Object(k.a)({},r),{},{render:function(e){return c?Object(i.jsx)(t,Object(k.a)({},e)):Object(i.jsx)(s.a,{to:n})}}))}var C=["component","redirectTo","children"];function w(e){var t=e.component,n=e.redirectTo,r=(e.children,Object(S.a)(e,C)),c=Object(l.c)(j.c.getIsAuthenticated);return Object(i.jsx)(s.b,Object(k.a)(Object(k.a)({},r),{},{render:function(e){return c&&r.restricted?Object(i.jsx)(s.a,{to:n}):Object(i.jsx)(t,Object(k.a)({},e))}}))}var R=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,165))})),U=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,180))})),L=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,181))})),A=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,178))}));function q(){var e=Object(l.b)();return Object(r.useEffect)((function(){e(j.a.getCurrentUser())}),[e]),Object(i.jsxs)("div",{children:[Object(i.jsx)(v,{}),Object(i.jsx)(r.Suspense,{fallback:Object(i.jsx)("p",{children:"Loading..."}),children:Object(i.jsxs)(s.d,{children:[Object(i.jsx)(s.b,{exact:!0,path:"/",component:R}),Object(i.jsx)(w,{path:"/register",restricted:!0,redirectTo:"/contacts",component:U}),Object(i.jsx)(w,{path:"/login",restricted:!0,redirectTo:"/contacts",component:L}),Object(i.jsx)(E,{path:"/contacts",redirectTo:"/login",component:A})]})})]})}var N,z,T=n(29),I=n(2),M=n(17),B=n(51),H=n.n(B),J=n(52),P=n.n(J),D=n(3),W=n(9),F=n(10),G=Object(I.c)([],(N={},Object(D.a)(N,F.i,(function(e,t){return t.payload})),Object(D.a)(N,F.c,(function(e,t){var n=t.payload;return[].concat(Object(T.a)(e),[n])})),Object(D.a)(N,F.f,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),N)),K=Object(I.c)(!1,(z={},Object(D.a)(z,F.h,(function(){return!0})),Object(D.a)(z,F.i,(function(){return!1})),Object(D.a)(z,F.g,(function(){return!1})),Object(D.a)(z,F.b,(function(){return!0})),Object(D.a)(z,F.c,(function(){return!1})),Object(D.a)(z,F.a,(function(){return!1})),Object(D.a)(z,F.e,(function(){return!0})),Object(D.a)(z,F.f,(function(){return!1})),Object(D.a)(z,F.d,(function(){return!1})),z)),Q=Object(I.c)("",Object(D.a)({},F.j,(function(e,t){return t.payload}))),V=Object(W.b)({contacts:G,filter:Q,loading:K}),X=[].concat(Object(T.a)(Object(I.d)({serializableCheck:{ignoredActions:[M.a,M.f,M.b,M.c,M.d,M.e]}})),[P.a]),Y={key:"auth",storage:H.a,whitelist:["token"]},Z=Object(I.a)({reducer:{auth:Object(M.g)(Y,j.b),contacts:V},middleware:X,devTools:!1}),$={store:Z,persistor:Object(M.h)(Z)},_=n(53);o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(l.a,{store:$.store,children:Object(i.jsx)(_.a,{loading:null,persistor:$.persistor,children:Object(i.jsx)(u.a,{children:Object(i.jsx)(q,{})})})})}),document.getElementById("root"))}},[[84,2,3]]]);
//# sourceMappingURL=main.c028386f.chunk.js.map